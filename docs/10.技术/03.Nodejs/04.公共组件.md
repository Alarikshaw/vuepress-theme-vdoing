---
title: 公共组件
date: 2021-01-14 13:21:18
permalink: /pages/236e86/
categories:
  - 技术
  - Nodejs
tags:
  - 
---

### Modal 模态框组件

- title: 模态框标题

- size: 模态框大小

- DEFAULT, SMALL, LARGE, FULL 对应中、小、大、满屏；或者自定义，如1200px

- top: 模态框上外边距

- center 对应垂直居中；或者自定义，如200px

- body: 模态框body内容

- template: 对body塞入<div></div>之类的标签

- component: 对body塞入element已定义的基础组件

  - props: 设置component中对应组件的属性值

 - showy: 模态框是否隐藏

 - closeShowy: 模态框右上角X(关闭按钮)是否显示

 - buttons: 模态框底部按钮组

  - key: 标识键

  - type: 按钮样式

   - DEFAULT, PRIMARY , SUCCESS , INFO , WARNING , DANGER , LINK 对应 metronic中对应的按钮样式

  - name: 按钮对应的名称

  - circular: 按钮是否圆形

  - onClick(self): 按钮click回调方法 self为当前对象

 - onButtonClick(self，key):self为当前对象，key为标示键

 - onCloseClick(self): 模态框右上角X(关闭按钮) ckick回调方法,self为当前对象

**#### 公共方法**

 - show(props): 展开模态框,props参数即当前对象初始化的属性，可传入不同属性值改写初始化属性

 - hide(): 隐藏模态框



- 实例代码

```

​    public getModal() {

​    if (!this.modal) {

​      let props = {

​        title: '加载组件',

​        size: '1500px',

​        content: new Composition((composition: Composition) => {

​          composition.compositions = [new Tree({

​            nodeData: [{'id': 'ajson1', 'parent': '#', 'text': 'Simple root node'},

​              {'id': 'ajson2', 'parent': '#', 'text': 'Root node 2'},

​              {'id': 'ajson4', 'parent': 'ajson2', 'text': 'Child 2'},

​              {'id': 'ajson3', 'parent': 'ajson2', 'text': 'Child 1'}],

​            onChange: (self: Tree, node: any) => {

​              console.log(node);

​            }

​          })];

​        }),

​        top: 'center',

​        buttons: [{

​          name: '关闭',

​          type: Modal.BUTTON_TYPE.PRIMARY,

​          isCircle: true

​        }],

​        onButtonClick: (self) => {

​          self.props.reloadBodyContent();

​          // self.props.content = this.getToolbar1();

​        }

​      };



​      this.modal = new Modal(props);

​    }



​    return this.modal;

  }

```



**#### IconPickerModal 图标选择器模态框**

 - icons: icon类名的集合 string数组

 - selected: 设置选中icon的类名 string

 - onSelect(self): 选中之后的回调方法  self为当前对象

 - onCancel(self): 取消操作回调方法  self为当前对象

**#### 公共方法**

 - getSelected(): 获取当前选中的icon类名

 - setSelected(icon: string): 设置当前选中的icon类名



- 实例代码



```

  private getIconPickerModalProps() {

​    this.iconPickerModal = new IconPickerModal();



​    return _.extend(this.iconPickerModal.getProps(), {

​      onCloseClick: () => {

​        this.iconPickerModal.hide();

​      },

​      buttons: [{

​        name: '选取',

​        type: Modal.BUTTON_TYPE.SUCCESS,

​        onClick: () => {

​          let icon = this.iconPickerModal.getSelected();

​          let inputObj = this.editForm.getControl('buttonIcon');

​          inputObj.setValue(icon);

​          this.iconPickerModal.hide();

​        },

​        circular: true

​      }, {

​        name: '取消',

​        type: Modal.BUTTON_TYPE.DEFAULT,

​        onClick: () => {

​          this.iconPickerModal.hide();

​        },

​        circular: true

​      }]

​    });

  }

···





### Table 表格组件

 - columns: 表头数据

 - columnsSource?: String; // 表头数据源URL

 - columnsCriteria?: String; // 数据源URL参数

 - multiple: 是否在每一行前加上checkbox boolean

 - dataTableOptions: 表格配置

  - columns: 表头数据

  - autoWidth: 是否自适应宽度

  - scrollY: 纵向滚动条

 - onSelect(self): 表中选中事件的回调方法

 - data: 表格数据

 - dataSource: 查询url

 - dataCriteria: 查询条件

 - dataServer: 自定义加载逻辑



#### 公共方法

 - handleData(): 设置表格数据方法(配合data参数使用，不可传入参数) 

 - getSelected(): 获取表中选中对象方法

 - getTableData(): 获取表格数据方法

 - resetTableData(data): 设置表格数据方法(可传入参数)

 - refreshData(): 刷新表格



- 实例代码

```

private getTableProps() {

​    this.table = new Table();



​    let tableProps = this.table.getProps();

​    tableProps.columns = [{

​      'data': 'buttonIcon',

​      'title': '按钮图标',

​      'sClass': 'dt-center',

​      'sWidth': '100px',

​      'orderable': false

​    }, {

​      'data': 'buttonName',

​      'title': '按钮名称',

​      'sClass': 'dt-center',

​      'sWidth': '100px',

​      'orderable': false

​    }, {

​      'data': 'buttonOnclick',

​      'title': '按钮事件',

​      'sClass': 'dt-center',

​      'sWidth': '100px',

​      'orderable': false

​    }, {

​      'data': 'isToolbarDisplay',

​      'title': '是否工具栏',

​      'sClass': 'dt-center',

​      'sWidth': '50px',

​      'orderable': false

​    }, {

​      'data': 'buttonId',

​      'title': 'buttonId',

​      'sClass': 'dt-center',

​      'orderable': false,

​      'visible': false

​    }, {

​      'data': 'menuId',

​      'title': 'menuId',

​      'sClass': 'dt-center',

​      'orderable': false,

​      'visible': false

​    }];

​    tableProps.multiple = true;

​    // tableProps.setDataTable = () => {

​    //   return tableProps.dataTable;

​    // };

​    tableProps.onReady = () => {

​      this.refresh();

​    };

​    return tableProps;

  }

```

```

​        // 从后端获取的表单内容

​        this.table.resetTableData(btnResult);

```

```

  public getTable2() {

​    if (!this.table2) {

​      let props = {

​        isCheck: true,

​        dataCriteria: '',

​        dataServer: (criteria, accept) => {

​          accept([{

​              rowno: '1',

​              agencyCode: '001',

​              agencyName: '测试',

​              col1: '我的名字',

​              col2: '我的学校',

​              col3: '我的同学'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }, {

​              rowno: '2',

​              agencyCode: '002',

​              agencyName: '测试2',

​              col1: '我的名字2',

​              col2: '我的学校2',

​              col3: '我的同学2'

​            }]);

​        },

​        columns: [{

​          'data': 'rowno',

​          'title': '序号',

​          'sClass': 'center',

​          'sWidth': '150px',

​          'orderable': false

​        }, {

​          'data': 'agencyCode',

​          'title': '机构编号',

​          'sWidth': '150px',

​          'orderable': false

​        }, {

​          'data': 'agencyName',

​          'title': '机构名称',

​          'sClass': 'left',

​          'sWidth': '200px',

​          'orderable': false

​        }, {

​          'data': 'col1',

​          'title': '测试列1',

​          'sClass': 'center',

​          'sWidth': '250px',

​          'orderable': false

​        }, {

​          'data': 'col2',

​          'title': '测试列2',

​          'sWidth': '200px',

​          'orderable': false

​        }, {

​          'data': 'col3',

​          'title': '测试列3',

​          'sClass': 'left',

​          'sWidth': '200px',

​          'orderable': false

​        }],



​        onSelect: (currentNode: Object) => {

​          console.log(currentNode);

​        },

​      };



​      this.table2 = new Table(props);

​    }



​    return this.table2;

  }

```



### Tree 树组件

 - allOpen?: boolean; // 是否默认展开树

 - plugins: 树的插件

 - onChange(self?: Object): 树选中事件的回调方法

 - multiple: 是否给每一个节点加上checkbox

 - defaultIcon: 默认图标,false关闭默认图标

 - idField: id对应字段

 - textField: text对应字段

 - codeShowy?: boolean; // 是否显示树节点的code信息

 - codeField?: string; // code对应的数据字段

 - parentField: parent对应字段

 - iconField: 图标对应字段

 - rootNode: 根节点

 - nodeData?: Array<any>; // 树的结点数据

 - dataSource: 查询url

 - dataCriteria: 查询条件

 - dataServer: 自定义加载逻辑

 - selected?: Array<string>;

 - selectedCriteria?: any;

 - selectedSource?: string;

 - selectedServer?: Function;



#### 公共方法

- getJsTree(): 获取当前tree对象

- getSelected(): 获取当前选中节点

- getSelectedLeaf(): 获取当前选中子节点

- selectNode(node: Array<string>): 选中节点

- deselectAll(): 全不选中

- selectNodeByNum(num: Array<number>): 根据节点序列号选中对应节点

- refreshData(criteria?: any): 刷新数据

- refreshSelected(criteria?: any): 刷新选中节点数据

- resetJstreeData(data: Array<any>, selected?: Array<string>): 设置jstree节点信息，前一个参数初始化树的数据，第二个参数可选，设置某些节点被选中是一个string数组，传入的是nodedata中对应的id



- 实例代码

```

  public getTree1() {

​    if (!this.tree1) {

​      let props = {

​        multiple: false,

​        dataServer: (criteria, accept) => {

​          this.i++;



​          if (this.i > 1) {

​            accept([{'id': 'ajson1', 'parent': '#', 'text': 'Simple root node'},

​              {'id': 'ajson2', 'parent': '#', 'text': 'Root node 2'},

​              {'id': 'ajson4', 'parent': 'ajson2', 'text': 'Child 2'},

​              {'id': 'ajson3', 'parent': 'ajson2', 'text': 'Child 1'},

​              {'id': 'ajson5', 'parent': 'ajson2', 'text': 'Child 3'},

​              {'id': 'ajson6', 'parent': 'ajson2', 'text': 'Child 4'}

​            ]);

​          } else {

​            accept([{'id': 'ajson1', 'parent': '#', 'text': 'Simple root node'},

​              {'id': 'ajson2', 'parent': '#', 'text': 'Root node 2'},

​              {'id': 'ajson4', 'parent': 'ajson2', 'text': 'Child 2'},

​              {'id': 'ajson3', 'parent': 'ajson2', 'text': 'Child 1'}

​            ]);

​          }

​        },

​        onChange: (currentNode: Object) => {

​          alert('id:' + currentNode['id'] + 'ntext:' + currentNode['text']);

​        }

​      };

​      this.tree1 = new Tree(props);

​    }

​    return this.tree1;

  }

```



### Accoridion 手风琴组件

 - panel: accordion的panel

  - title: panel的标题

  - content: panel的内容

  - key: panel key

  - iconic: 是否有+、-图标

 - activeKey: 初始化后默认展开的内容(对应key，相等即打开对应的内容)



- 实例代码

​```json

  public getAccordion1() {

​    if (!this.accordion1) {

​      let tree = this.getTree();



​      let props = {

​        panel: [

​          {title: '观沧海', content: require('./templates/guancanghai.html'), key: '1', iconic: true},

​          {title: '将进酒', content: require('./templates/guancanghai.html'), key: '2'},

​          {title: '滕王阁序', content: require('./templates/tengwanggexu.html'), key: '3', iconic: true},

​          {title: '岳阳楼记', content: '<xmp :widget="{is: 'Tree', props: @props.treeProps1}"></xmp>', key: '4'},

​          {title: '兰亭序', content: require('./templates/guancanghai.html'), key: '5', iconic: true}

​        ],

​        activeKey: '2',

​        treeProps1: tree.getProps()

​      };



​      this.accordion1 = new Accordion(props);

​    }



​    return this.accordion1;

  }

```



### Button 按钮组件

 - value: 按钮名称

 - type: 按钮类型

  - DEFAULT, PRIMARY , SUCCESS , INFO , WARNING , DANGER , LINK 对应 metronic中不同类对应的按钮不同的样式

 - size: LAGER , DEFAULT , SMALL , XSMALL对应大、普通、小、极小

 - circular: 是否圆角

 - onClick(self): 定义按钮点击触发的回调方法 self为当前创建的对象

 - color: 按钮颜色

 - icon: metronic中对应的icon类名对应不同的icon

 - iconPosition: 图标在按钮左边还是右边

- disabled: 按钮是否不可操作

- isHide: 按钮是否可见

- isOutLine: 按钮是否有边框



- 实例代码

```

  public getButton() {

​    if (!this.button) {

​      let props = {

​        value: 'default',

​        type: Button.TYPE.DEFAULT,

​        onClick: () => {

​          alert('hello');

​        },

​      };



​      this.button = new Button(props);

​    };



​    return this.button;

  }

```



#### BadgeButton 标记按钮组件

 - badgeValue: 标记按钮右上角小气泡的值(不为0的值才有意义)

 - badgeType: DANGER, SUCCESS, INFO, DEFAULT标记按钮右上角小气泡的颜色 红色，绿色， 蓝色，灰黑色(依赖badgeValue设值之后才有效果)



```

  public getButtonBadge() {

​    if (!this.buttonBadge) {

​      let props = {

​        icon: 'fa fa-barcode',

​        value: '产品',

​        badgeValue: '4',

​        badgeType: BadgeButton.BADGE_TYPE.SUCCESS,

​        onClick: () => {

​          alert('hello');

​        }

​      };



​      this.buttonBadge = new BadgeButton(props);

​    };



​    return this.buttonBadge;

  }

```



#### BlockButton 大块的按钮

 - element: A、BUTTON 对应a标签，button标签对应的模板



```

  public getButtonIsBlock() {

​    if (!this.buttonIsBlock) {

​      let props = {

​        element: BlockButton.ELEMENT.BUTTON,

​        color: 'blue',

​        value: 'button',

​      };



​      this.buttonIsBlock = new BlockButton(props);

​    };



​    return this.buttonIsBlock;

  }

```

#### IconOnlyButton 只有icon的按钮

 - icon: metronic中对应的icon类名对应不同的icon



```

  public getButtonIconOnly() {

​    if (!this.buttonIconOnly) {

​      let props = {

​        color: 'red',

​        icon: 'fa fa-edit',

​        onClick: () => {

​          alert('icon');

​        }

​      };



​      this.buttonIconOnly = new IconOnlyButton(props);

​    };



​    return this.buttonIconOnly;

  }

```

#### IconicButton 有icon的按钮

 - icon: metronic中对应的icon类名对应不同的icon

 - iconPosition: LEFT, RIGHT 对应 icon的位置是在文字的左边还是右边



```

  public getButtonIconPosition() {

​    if (!this.buttonIconPosition) {

​      let props = {

​        iconPosition: IconicButton.ICON_POSITION.LEFT,

​        onClick: () => {

​          alert('icon');

​        }

​      };



​      this.buttonIconPosition = new IconicButton(props);

​    };



​    return this.buttonIconPosition;

  }

```



#### SpinnerButton 点击延时旋转效果按钮

 - loadType: ZOOM_IN, ZOOM_OUT , EXPAND_LEFT , EXPAND_RIGHT , EXPAND_UP , EXPAND_DOWN,

  SLIDE_LEFT, SLIDE_RIGHT, SLIDE_UP, SLIDE_DOWN, CONTRACT 对应不同的旋转位置和效果

 - loadingStart(): 开始旋转

 - loadingStop(): 停止旋转

```

  public getButtonSpinner() {

​    if (!this.spinnerButton) {

​      let props = {

​        color: 'blue',

​        isOutLine: true,

​        circular: true,

​         icon: 'fa fa-user',

​       iconPosition: Button.ICON_POSITION.RIGHT,

​        onClick: (self) => {

​          setTimeout(() => {

​            self.props.loadingStop();

​          }, 3000);

​        }

​      };

​      this.spinnerButton = new SpinnerButton(props);

​    }

​    return this.spinnerButton;

  }

```



### CheckBoxGroup 多选框基础组件

 - name?: string; checkBox组名称

 - value?: any; // value值

 - readonly?: boolean; // 是否只读

 - label?: FormElementLabel; // 标签

  - interface FormElementLabel {

​    content?: string; // 标签

​    position?: LabelPosition; // 位置(VERTICAL, HORIZONTAL对应水平，纵向)

​    ratio?: number; // 标签和控件主体对应的宽度比，用col-md类控制，默认3:9

   }

 - help?: any; // 帮助说明

 - onChange(self)?: Function; // :duplex双工绑定checkbox选中的value值，现在监听的是value属性值得变化

 - horizontal: 是否水平放置多选框组

 - options: checkbox初始化设置的一些属性 json数组

  - id?: string; // id

  - text: string; // text

  - value?: string; // value

  - ratio?: number; // 标签和控件主体对应的宽度比，用col-md类控制，默认3:9

  - readonly?: boolean; // 是否只读

 - template: 多选框组的模板

 - valueField?: string; // value对应的字段

 - textField?: string; // text对应的字段

 - dataSource: 查询url

 - dataCriteria: 查询条件

 - dataServer: 自定义加载逻辑



#### 公共方法

````json
 - refresh(criteria?: any): 刷新方法

 - getValue(): 获取值

 - setValue(value: Array<any>): 设置值 // 和options属性中设置的value类型对应，数组形式，设置哪一个被选中

 - setOptions(optinsoptions: Array<CheckBoxProps>): 设置options
```



```

  public getCheckbox() {

​    if (!this.checkbox) {

​      let props = {

​        label: {

​          content: 'sampleCheckBoxGroup:',

​          position: 1

​        },

​        horizontal: true,

​        options: [{

​          'text': '测试一',

​          'value': '1'

​        }, {

​          'text': '测试二',

​          'value': '2'

​        }, {

​          'text': '测试三',

​          'value': '3'

​        }],

​        onReady: (vm) => {

​          let a = ['1', '3'];

​          this.checkbox.setValue(a);

​          // console.log(checkBox.getValue());

​        },

​        onChange: (self: any) => {

​          console.log(self.props.getValue());

​        },

​        validations: {

​          required: {

​            required: true,

​            message: '是必填的'

​          }

​        },

​        dataCriteria: {},

​        dataRefresh: false,

​        dataServer: (criteria, accept) => {

​          setTimeout(() => {

​            accept([{

​              'text': '测试三',

​              'value': '3'

​            }, {

​              'text': '测试四',

​              'value': '4'

​            }, {

​              'text': '测试五',

​              'value': '5'

​            }]);

​          }, 3000);

​        }

​      };

​      this.checkbox = new CheckBoxGroup(props);

​    }

​    return this.checkbox;

  }



```



### WangEditor 富文本编辑器基础组件

 - height: 富文本框高度

 - text: 富文本框初始化内容

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - help: 帮助说明

 - onChange(self): self为当前创建的对象



#### 公共方法

 - getText(): 获取编辑器纯文本内容

 - getValue(): 获取编辑器区域完整html代码

 - getFormatValue(): 获取格式化后的纯文本

 - resetValue(): 清空内容

 - setValue(value: string): 设置值 会先执行清空操作在赋值

 - disableEditor(): 禁用编辑器

 - enableEditor(): 启用编辑器



```

  public getWangEditor() {

​    if (!this.wangEditor) {

​      let props = {

​        label: {

​          content: '富文本:'

​        },

​        text: '',

​        height: 400,

​        onChange: (self) => {

​          // let val = self.getValue();

​          // console.log(val);

​          // val = val + '111';

​          // setTimeout(function() {

​          //   self.setValue(val);

​          // }, 3000);

​          // // setTimeout(function() {

​          // //   self.setValue(val);

​          // // }, 300);

​        }

​      };



​      this.wangEditor = new WangEditor(props);

​    }



​    return this.wangEditor;

  }

```



### Uploader 上传基础组件

 - url: 上传后台方法url

 - uploadButtonShowy: 是否显示左侧上传按钮

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - help: 帮助说明



#### 公共方法

 - submitFile(): 上传文件方法

 - setValue(): 无意义(为了适应form组件)

 - getValue(): 无意义(为了适应form组件)



```

  public getUploader() {

​    if (!this.uploader) {

​      let props = {

​        label: {

​          content: 'Uploader',

​        },

​          url: 'http://localhost:8080/ngs-admin-backend/api/documents',

​      };

​      this.uploader = new Uploader(props);

​    }

​    return this.uploader;

  }





```



### MultiSelect 多选文本框基础组件

 - name: 多选框组名

 - horizontal: 是否水平放置

 - options: 与checkboxGeoup对应属性相同，就是为了单独的相对赋值

  - id?: string; // id

  - text: string; // text

  - value?: string; // value

  - ratio?: number; // 标签和控件主体对应的宽度比，用col-md类控制，默认3:9

  - readonly?: boolean; // 是否只读

 - onChange?: Function; 也是双工绑定监听value属性

 - value: 双工绑定的value值

 - attr: 各种属性;

  - name: name 属性

  - placeholder: placeholder 属性

  - maxlength: maxlength 属性

  - rows: rows 属性

 - clazz: 定义类名;

 - alignment: 定义光标对齐方式，对应{LEFT, RIGHT, CENTER、左，右，中};

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - icon: 内置icon

  - left: 是显示在input的左侧还是右侧，值为true时左侧

  - clazz: icon类名控制的icon样式

 - help: 帮助说明 // 类型any

 - groupLeft: input组合Left

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - groupRight: input组合Right

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - onFocus(self, e): 回调;

 - onBlur(self, e): 回调;

 - dataSource: 查询url

 - dataCriteria: 查询条件

 - dataServer: 自定义加载逻辑



#### 公共方法

 - setValue(value: Array<any>): 设置值

 - getValue(): 获取值

 - setOptions(): 设置options



```json

   public getMultiSelect() {

​    if (!this.multiSelect) {

​      let props = {

​          label: {

​            content: 'season:',

​            position: 1

​          },

​          name: 'season',

​          horizontal: true,

​          options: [{

​            'text': '春',

​            'value': '1'

​          }, {

​            'text': '夏',

​            'value': '2'

​          }, {

​            'text': '秋',

​            'value': '3'

​          }, {

​            'text': '冬',

​            'value': '4'

​          }],

​        onReady: (vm) => {

​          setTimeout(() => {

​            this.multiSelect.setValue(['1', '4']);

​          }, 3000);



​          // console.log(this.multiSelect2.getValue());

​        },

​        validations: {

​          required: {

​            required: true,

​            message: '是必填的'

​          }

​        }

​        };

​      this.multiSelect = new MultiSelect(props);

​    }

​    return this.multiSelect;

  }



```



### DatePicker 日期选择器组件

 - id: id;

 - attr: 各种属性;

  - name: name 属性

  - placeholder: placeholder 属性

  - maxlength: maxlength 属性

  - rows: rows 属性

 - clazz: 定义类名;

 - alignment: 定义光标对齐方式，对应{LEFT, RIGHT, CENTER、左，右，中};

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - icon: 内置icon

  - left: 是显示在input的左侧还是右侧，值为true时左侧

  - clazz: icon类名控制的icon样式

 - help: 帮助说明

 - groupLeft: input组合Left

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - groupRight: input组合Right

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - onChange(self): 回调;

 - onFocus(self, e): 回调;

 - onBlur(self, e): 回调;

 - format: 日期格式

 - startDate: 起始日期，此日期前面日期都不可用

 - endDate: 结束日期，此日期后面日期都不可用

 - autoClose: 挑选后是否自动关闭日历框

 - orientation: 默认'auto'，可选'top''bottom''left''right''top left''top right''bottom left''bottpm right'只指定单个的时候未指定的默认为auto



#### 公共方法

 - setValue(value): 设置值

 - getValue(): 获取值

 - setStartDate(): 设置最早日期

 - setEndDate(): 设置最晚日期



```

  public getDatePicker() {

​    if (!this.datepicker) {

​      let props = {

​        id: 'DatePicker',

​        label: {content: 'DatePicker:'},

​        startDate: '2017-08-01',

​        endDate: '2017-09-10',

​        // readonly: true,

​        onChange: (self, val) => {

​          console.log(self.props.getValue(), self.props.getDatepicker());

​        },

​        validations: {

​          required: {

​            required: true,

​            message: '是必填的'

​          }

​        }

​      };



​      this.datepicker = new DatePicker(props);

​    }



​    return this.datepicker;

  }

```



### DateRangePicker 日期范围选择器组件

 - id: id;

 - attr: 各种属性;

  - name: name 属性

  - placeholder: placeholder 属性

  - maxlength: maxlength 属性

  - rows: rows 属性

 - clazz: 定义类名;

 - alignment: 定义光标对齐方式，对应{LEFT, RIGHT, CENTER、左，右，中};

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - icon: 内置icon

  - left: 是显示在input的左侧还是右侧，值为true时左侧

  - clazz: icon类名控制的icon样式

 - help: 帮助说明

 - groupLeft: input组合Left

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - groupRight: input组合Right

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - onChange(self): 回调;监听value属性的变化

 - value: 双工绑定的值

 - onFocus(self, e): 回调;

 - onBlur(self, e): 回调;

 - readonly: 是否只读



 - format: 日期格式

 - startDate: 起始日期，此日期前面日期都不可用

 - dateLimit: 开始日期和结束日期之间的最大跨度

 - opens: LEFT, RIGHT, CENTER 出现在对应html元素下方的左边、右边还是中间

 - drops: DOWN, UP 出现在html元素的上方还是下方

 - singleDatePicker: 只显示一个日历选择一个日期，而不是有两个日历的范围选择器；开始和结束日期是选择的同一个日期

 - linkedCalendars: 当启用时，两个日历显示将始终是两个连续的月份（即一月和二月），当点击左边或者右边，两个日历都会推进；当禁用，这两个日历可以单独推进和显示任何月/年。



#### 公共方法

 - setValue(value): 设置值

 - getValue(): 获取值

 - setStartDate(): 设置最早日期

 - setEndDate(): 设置最晚日期



```

​    public getDateRangePicker() {

​    if (!this.dateRangePicker) {

​      let props = {

​        label: {content: 'DateRangePicker:'},

​        startDate: '2017-08-01',

​        endDate: '2017-09-10',

​        // readonly: true,

​        onChange: (self, val) => {

​          console.log(self.props.getValue(), self.props.getDatepicker());

​        }

​      };



​      this.dateRangePicker = new DateRangePicker(props);

​    }



​    return this.dateRangePicker;

  }

```



### DateTimePicker 日期时间选择器组件

 - id: id;

 - attr: 各种属性;

  - name: name 属性

  - placeholder: placeholder 属性

  - maxlength: maxlength 属性

  - rows: rows 属性

 - clazz: 定义类名;

 - alignment: 定义光标对齐方式，对应{LEFT, RIGHT, CENTER、左，右，中};

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - icon: 内置icon

  - left: 是显示在input的左侧还是右侧，值为true时左侧

  - clazz: icon类名控制的icon样式

 - help: 帮助说明

 - groupLeft: input组合Left

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - groupRight: input组合Right

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - onChange(self): 回调;监听value属性的变化

 - value: 双工绑定的值

 - onFocus(self, e): 回调;

 - onBlur(self, e): 回调;

 - readonly: 是否只读



 - format: 日期格式

 - startDate: 起始日期，此日期前面日期都不可用

 - endDate: 结束日期，此日期后面日期都不可用

 - autoClose: 挑选后是否自动关闭日历框

 - pickerPosition: 选择器显示在输入框的位置



#### 公共方法

 - setValue(value): 设置值

 - getValue(): 获取值

 - setStartDate(): 设置最早日期

 - setEndDate(): 设置最晚日期



```

  public getDateTimePicker() {

​    if (!this.dateTimePicker) {

​      let props = {

​        label: {content: 'DateTimePicker:'},

​        startDate: '2017-08-01',

​        endDate: '2017-09-10',

​        pickerPosition: 'top-left',

​        // readonly: true,

​        onChange: (self, val) => {

​          console.log(self.props.getValue(), self.props.getDateTimePicker());

​        }

​      };



​      this.dateTimePicker = new DateTimePicker(props);

​    }



​    return this.dateTimePicker;

  }

```



### Portlet组件

 - iconClass: icon类型

 - titleClass: title类型

 - title: 标题名称

 - body: 内容

  - template: 对body塞入<div></div>之类的标签

  - component: 对body塞入element已定义的基础组件

  - props: 设置component中对应组件的属性值

 - maxHeight: 最大高度，内容超过出现自适应滚动条



- 实例代码

```

   public getPortlet2() {

​    if (!this.portlet2) {

​      let props = {

​        title: 'TabsPortlet',

​        activeKey: 'xiyouji',

​        panes: [

​          {title: '水浒', content: '<div>梁山好汉</div>', key: 'shuihu'},

​          {title: '西游记', content: '<div>打怪升级</div>', key: 'xiyouji'},

​          {title: '红楼梦', content: '<div>大观园</div>', key: 'hongloumeng'},

​          {title: '三国演义', content: '<div>桃园三结义</div>', key: 'sanguoyanyi'},

​        ],

​        onSelect: (activeKey: string) => {

​          console.log('tab: ' + activeKey);

​        }

​      };



​      this.portlet2 = new TabsPortlet(props);

​    }



​    return this.portlet2;

  }

```



### TabsPortlet组件

 - 继承Tabs和Portlet组件的属性，组合使用



### Radio 单选按钮组组件

 - name: 组名称

 - options: 

  - id: 组内单一多选框id

  - text: 组内单一多选框后的文字内容

  - value: 组内单一多选框的value属性值

  - ratio: 比例 col-md-？ 控制 

  - readonly: 是否只读

 - horizontal?: boolean; // 是否水平

 - valueField?: string; // value对应的字段

 - textField?: string; // text对应的字段

 - dataSource: 查询url

 - dataSourceId: 数据源配置项

 - dataTarget: 解析出的对应属性

 - dataServer: 自定义加载逻辑

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - help: 帮助说明

 - value: 双工绑定的值

 - onChange(self): 监听value值得变化



#### 公共方法

 - getValue(): 获取值

 - setValue(value): 设置值

 - setRadios(options: Array<RadioProps>, name?: any): 设置radios 和 name组名





- 实例代码:

```

  public getRadio() {

​    if (!this.radio) {

​      let props = {

​        label: {

​          content: 'sampleRadio:',

​          position: 1

​        },

​        name: 'isDefault',

​        value: '1',

​        options: [{

​          text: '是',

​          value: '1',

​        }, {

​          text: '否',

​          value: '0',



​        }],

​        validations: {

​          required: {

​            required: true,

​            message: '是必填的'

​          }

​        },

​        dataCriteria: {},

​        dataRefresh: false,

​        dataServer: (criteria, accept) => {

​          setTimeout(() => {

​            accept([{

​              text: 'A',

​              value: '0',

​            }, {

​              text: 'B',

​              value: '1',



​            }, {

​              text: 'C',

​              value: '2',

​            }]);

​          }, 3000);

​        },

​        onReady: (self) => {

​          self.props.setValue('');

​        },

​      };

​      this.radio = new RadioGroup(props);

​    }

​    return this.radio;

  }

```



### Select组件

 - options: 设置选项

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - placeholder: 

 - multiple: 是否允许选择多个值

 - minSearch: 至少?个结果的时候显示搜索

 - valueField: 

 - textField: 

 - groupField: 选项组描述字段

 - idField: id字段

 - parentIdField: parentId字段

 - childField: child字段

 - dataSource: 查询url

 - dataCriteria: 查询条件

 - dataSourceId: 数据源配置项

 - dataTarget: 解析出的对应属性

 - dataServer: 自定义加载方法

 - allowClear: 是否允许清除选项

 - autoParse: 是否自动解析

 - onOpen: 打开事件

 - onClose: 关闭事件

 - getSelect: 获取Jquery select对象



#### 公共方法

 - setOptions(options): 设置options

 - setValue(value: Array<any>): 注意传入的参数,对应options里的value属性和类型

 - getValue()



- 实例代码

```json
    public getSelect2() {

​    if (!this.select) {

​      let props = {

​        label: {

​          content: 'sampleSelect:',

​          position: 1,

​          ratio: 6

​        },

​        placeholder: '请选择',

​        minSearch: 1, // 显示搜索框

​        idField: 'id',

​        parentIdField: 'parentId',

​        childField: 'child',

​        options: [{

​          'text': '测试一',

​          'value': '123',

​          'group': '分组1'

​        }, {

​          'text': '测试二',

​          'value': '123123',

​          'group': '分组1'

​        }, {

​          'text': '测试九',

​          'value': '99',

​          'group': '分组1'

​        }, {

​          'text': '测试八',

​          'value': '88',

​          'group': '分组2'

​        }, {

​          'text': '测试七',

​          'value': '77',

​          'group': '分组2'

​        }, {

​          'text': '测试六',

​          'value': '66',

​          'group': '分组2'

​        }],

​        dataServer: (criteria, accept) => {

​          setTimeout(() => {

​            accept([{

​              'text': '测试一',

​              'value': '1',

​              'child': [ {

​                'text': '测试九',

​                'value': '9'

​              }, {

​                'text': '测试八',

​                'value': '88'

​              }]

​            }, {

​              'text': '测试二',

​              'value': '2',

​              'id': '2',

​              'child': [{

​                'text': '测试七',

​                'value': '77'

​              }, {

​                'text': '测试六',

​                'value': '66'

​              }]

​            }, {

​              'text': '测试五',

​              'value': '55',

​              'id': '7'

​            }]);

​          }, 3000);

​        },

​        onOpen: (self, e) => {

​          // self.setValue(['4']);

​          console.log(self.props.getValue());

​        },

​        onClose: (self, e) => {

​          console.log(self.props.getValue());

​        },

​        onReady: (self) => {

​          console.log(self.props.getValue());

​        },

​        onChange: (self, val) => {

​          console.log('1');

​        },

​        validations: {

​          required: {

​            required: true,

​            message: '是必填的'

​          }

​        },

​        size: 1

​      };



​      this.select = new Select(props);

​    }

​    return this.select;

  }

```

### tabs组件

 - type: LINE, BLOCK 样式

 - position: TOP, BOTTOM 样式 居上 居下

 - panes: 

  - title: 标题

  - content: 内容

  - key: 标识键 

 - activeKey: 对应key，默认显示的内容

 - timelyKeys:内容是否适时加载

 - defaultActiveKey: 默认的activeKey

 - onSelect(self, activeKey): tabs被选中的回调



- 实例代码:

```

  public getTabs1() {

​    if (!this.tabs1) {

​      let props = {

​        activeKey: 'xiyouji',

​        // type: Tabs.TYPE.LINE,

​        // position: Tabs.POSITION.BOTTOM,

​        panes: [

​          {title: '水浒', content: '<div>梁山好汉</div>', key: 'shuihu'},

​          {title: '西游记', content: '<div>打怪升级</div>', key: 'xiyouji'},

​          {title: '红楼梦', content: '<div>大观园</div>', key: 'hongloumeng'},

​          {title: '三国演义', content: require('./templates/sanguoyanyi.html'), key: 'sanguoyanyi'},

​        ],

​        onSelect: (vm, activeKey: string) => {

​          console.log('tab: ' + activeKey);

​           if (activeKey === 'tree') {

​             setTimeout(() => {

​               this.getTree().alive = true;

​             }, 2000);

​           }

​        },

​      };



​      this.tabs1 = new Tabs(props);

​    }



​    return this.tabs1;

  }

```



### TextArea 文本框组件 

 - alwaysShow: 是否在最大字数限制阀值前显示字数提示，默认TRUE

 - threshold: 设置最大字数限制前多少个字符开始显示字数提示，默认10;

 - warningClass: 字数警告样式设置的类名;

 - limitReachedClass: 即将到达字数警告时的样式设置的类名;

 - separator: 表示输入字符的数量和可用字符的总数之间的分隔符。默认是“/”;

 - preText: 可输入字符显示之前的字符串;

 - postText: 可输入最大字数之后现实的字符串;

 - placement: 一个字符串，可为 'bottom' (默认值), 'left', 'top', 'right', 'bottom-right', 'top-right', 'top-left', 'bottom-left' and 'centered-right' 定义验证信息输出位置;

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - readonly: 是否只读

 - help: 帮助说明

 - value: 双工绑定的value值

 - onChange(self): 监听value值得改变

 - clazz: 类名

 - onBlur(self, e): 回调

 - onFocus(self, e): 回调

 - attr:

  - name?: string;

  - placeholder?: string;

  - maxlength?: number;

  - rows?: number;

- 公共方法

 - setValue(value: any): 

 - getValue(): 



- 实例代码:

```

  public getTextarea() {

​    if (!this.textarea) {

​      let props = {

​        label: {

​          content: 'sampleTextArea:'

​        },

​        readonly: true,

​        attr: {

​          placeholder: '输入的字数不要超过30个',

​          maxlength: 1000,

​        },

​        onBlur: (self, e) => {

​          console.log(self.props.getValue());

​        },

​        onFocus: (self, e) => {

​          self.props.setValue('TextArea onFocus');

​        },

​        onReady: (self) => {

​          setTimeout(() => {

​            self.props.readonly = false;

​          }, 4000);

​        },

​        validations: {

​          required: {

​            required: true,

​            message: '是必填的'

​          }

​        }

​      };



​      this.textarea = new TextArea(props);

​    }



​    return this.textarea;

  }



```



### ToolBar 按钮管理工具栏

 - buttons: 对象数组，包含所有的按钮{名称，图标，点击事件}

 - clazz: 类

 - nameField: 按钮名称字段

 - textField: 按钮内容字段

 - iconField: 按钮图标字段

 - onClick(self, key): 点击回调方法

 - functions(self): 对onClick属性的补充，如果没有定义onClick属性，function则用来定义回调方法

```

  protected getToolbar1() {

​    if (!this.toolbar1) {

​      this.toolbar1 = new Toolbar((toolbar: Toolbar) => {

​        toolbar.dataServer = (c, callback) => {

​          setTimeout(() => {

​            if (c.a === 0) {

​              callback([{

​                text: '上下居中',

​                name: 'btn1'

​              }, {

​                text: 'top值200px',

​                name: 'btn2',

​              }, {

​                text: '正常显示',

​                name: 'btn3'

​              }]);

​            } else {

​              callback([{

​                text: '按钮btn',

​                name: 'btn3'

​              }]);

​            }

​          }, 1000);

​        };

​        toolbar.dataCriteria = {a: 0};

​        toolbar.key = 'toolbar1';

​        toolbar.onClick = (vm: any, key: string) => {

​          if (key === 'btn1') {

​            this.dialog.top = 'center';

​            this.dialog.alert('呵呵呵呵');

​          } else if (key === 'btn2') {

​            this.dialog.top = '200px';

​            this.dialog.alert('呵呵呵呵');

​          } else {

​            this.dialog.top = '';

​            this.dialog.alert('呵呵呵呵');

​          }



​        };

​      });

​    }



​    return this.toolbar1;

  }

   

```



### TreeSelect 树形下拉框

 - nodeData: 树节点信息

 - multiple: 是否显示checkbox多选框

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - icon: 内置icon

  - left: 是显示在input的左侧还是右侧，值为true时左侧

  - clazz: icon类名控制的icon样式

 - help: 帮助说明

 - groupLeft: 左侧input组合

  - type: (DEFAULT, BUTTON对应块状不可点击区域和按钮)

  - content: 内容

 - groupRight: 右侧input组合

  - type: (DEFAULT, BUTTON对应块状不可点击区域和按钮)

  - content: 内容

 - readonly: 是否只读

 - help: 帮助内容

 - value: 双工绑定的值

 - onChange(self): 监听value值得改变

 - onFocus(self, e): Function;

 - onBlur(self, e): Function;



#### 公共方法

 - getValue(): 获取值

 - setValue(value): 设置值(要选中树节点的id数组)

```

public getTreeSelect1() {

​    if (!this.treeSelect1) {

​      let props = {

​        label: {

​          content: 'sampleTreeSelect:',

​          position: 1

​        },

​          treeProps: {

​            nodeData: [{'id': 'ajson1', 'parent': '#', 'text': 'Simple root nodeXXXXXXX'},

​              {'id': 'ajson2', 'parent': '#', 'text': 'Root node 2'},

​              {'id': 'ajson4', 'parent': 'ajson2', 'text': 'Child 2'},

​              {'id': 'ajson3', 'parent': 'ajson2', 'text': 'Child 1'}],

​        },

​      };



​      this.treeSelect1 = new TreeSelect(props);

​    }

​    return this.treeSelect1;

  }

```



### TextInput 文本输入框

 - id: id;

 - attr: 各种属性;

  - name: name 属性

  - placeholder: placeholder 属性

  - maxlength: maxlength 属性

  - rows: rows 属性

  - type: 文本框类型(TEXT, EMAIL, PASSWORD对应文本,邮件,密码)

 - clazz: 定义类名;

 - alignment: 定义光标对齐方式，对应{LEFT, RIGHT, CENTER、左，右，中};

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - icon: 内置icon

  - left: 是显示在input的左侧还是右侧，值为true时左侧

  - clazz: icon类名控制的icon样式

 - help: 帮助说明

 - groupLeft: input组合Left

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - groupRight: input组合Right

  - type: (DEFAULT, BUTTON对应)

  - content: 内容

 - readonly: 是否只读

 - value: 双工绑定的值

 - onChange(self): 回调; 监听value属性

 - onFocus(self, e): 回调;

 - onBlur(self, e): 回调;

 - onKeyPress(self, e): 回调;

 - onKeyDown(self, e): 回调;

 - onKeyUp(self, e): 回调;



#### 公共方法

 - getValue(): 获取值

 - setValue(value): 设置值

- 实例代码:

```

public getText() {

​    if (!this.text) {

​      let props = {

​        label: {

​          content: 'TextInput:'

​        },

​        icon: {

​          clazz: 'fa fa-plus-circle'

​        },

​        size: TextInput.InputSize.SMALL,

​          onBlur: (self, e) => {

​            alert(this.text.getValue());

​          },

​          onFocus: (self, e) => {

​            this.text.setValue('TextInput onFocus');

​          },

​          attr: {

​            placeholder: 'ssssss'

​          }

​      };

​      this.text = new TextInput(props);

​    }

​    return this.text;

  }

```



### NumberInput 数字输入框

 - positive: 是否只可输入正值

 - integral: 是否只可输入整数

 - thousandths: 是否需要插入千分位‘,’号

 - significant: 是否去除小数点后多余的0

 - precision: 精度控制小数点后保留多少位,integral属性值位false时才起作用

 - maximum: 最大值

 - id: id;

 - attr: 各种属性;

  - name: name 属性

  - placeholder: placeholder 属性

  - maxlength: maxlength 属性

  - rows: rows 属性

 - clazz: 定义类名;

 - alignment: 定义光标对齐方式，对应{LEFT, RIGHT, CENTER、左，右，中};

 - size: input大小(DEFAULT, SMALL, LARGE对应中，小，大)

 - width: input宽度(DEFAULT, XLARGE, LARGE, MEDIUM, SMALL, XSMALL)

 - label: 标签

  - content: 内容

  - position: 位置(VERTICAL, HORIZONTAL对应水平，纵向)

  - ratio:

 - icon: 内置icon

  - left: 是显示在input的左侧还是右侧，值为true时左侧

  - clazz: icon类名控制的icon样式

 - help: 帮助说明

 - groupLeft: 左侧input组合

  - type: (DEFAULT, BUTTON对应块状不可点击区域和按钮)

  - content: 内容

 - groupRight: 右侧input组合

  - type: (DEFAULT, BUTTON对应块状不可点击区域和按钮)

  - content: 内容

 - spinner: 微调

  - range: 微调幅度

 - readonly: 是否只读

 - value: 双工绑定的值

 - onChange(self): 回调; 监听value属性

 - onFocus(self, e): 回调;

 - onBlur(self, e): 回调;

 - onKeyPress(self, e): 回调;

 - onKeyDown(self, e): 回调;

 - onKeyUp(self, e): 回调;



#### 公共方法

 - getValue(): 获取值

 - setValue(value): 设置值



- 实例代码:

```

public getNumberInput() {

​    if (!this.numberInput) {

​      let props = {

​        label: {

​          content: 'NumberInput:'

​        },

​        size: NumberInput.InputSize.SMALL,

​        positive: false, // 是否正数

​        integral: false, // 是否整数

​        precision: 3, // integral === false，控制小数点后精度，不足三位时用0补足，超过3位，截取小数点后前三位

​        thousandths: true, // 是否用','分隔千分位，小数点前后均分隔

​        maximum: 1000, // 设置最大值，超过最大值时无法输入

​        alignment: Input.Alignment.LEFT,

​        significant: true,

​      };

​      this.numberInput = new NumberInput(props);

​    }

​    return this.numberInput;

  }

```



#### CurrencyInput 金额文本框

 - (继承自NumberInput类，只是设置了默认属性值)

 ``` 

​      groupLeft: {

​        content: '￥'

​      },

​      inputProps: {

​        thousandths: true

​      }

 ```



- 实例代码:

```

public getCurrencyInput() {

​    if (!this.currencyInput) {

​      let props = {

​        label: {

​          content: 'CurrencyInput:'

​        },

​        size: CurrencyInput.InputSize.SMALL,

​        groupLeft: {

​          content: '$'

​        },

​        integral: false,

​        precision: 1,

​      };

​      this.currencyInput = new CurrencyInput(props);

​    }

​    return this.currencyInput;

  }

```



#### PercentageInput 百分比输入框

 - (继承自NumberInput类，只是设置了默认属性值，并重写了getValue()和setValue()方法)

 ```

maximum: 100

 ```



- 实例代码:

```

public getPercentageInput() {

​    if (!this.percentageInput) {

​      let props = {

​        label: {

​          content: 'PercentageInput:'

​        },

​        size: PercentageInput.InputSize.SMALL,

​        integral: false,

​        precision: 2,

​      };

​      this.percentageInput = new PercentageInput(props);

​    }

​    return this.percentageInput;

  }

```



### Form 表单

 - inputs: 数组

  - name: 名称;

  - label: 左侧提示信息，和组件本身的label不同，这就是一个string字符串，不是那个json对象

  - type: 包含目前已有的表单组件{TEXT_INPUT, NUMBER_INPUT, DATE_PICKER, CURRENCY_INPUT, PERCENTAGE_INPUT, DATE_RANGE_PICKER, DATE_TIME_PICKER, SELECT, RADIO, CHECKBOX, WANGEDITOR, TEXTAREA, UPLOADER，EMPTY 对应 文本框、数字文本框、日期选择器、金额文本框、百分比文本框、日期范围选择器、日期时间选择器、下拉单选框框、单选框、多选框、富文本编辑器、文本域、上传组件、空白组件（用来占位的）};

  - ratio: 设置宽度 col-md-?控制 6就是一半 默认12;

  - props: type选定类型，设置组件对应的属性;

  - onReady: avalon组件加载完成之后的回调方法;

 - clazz: 样式

 - visible: 是否显示

 - readonly: 是否只读

 - validationSource: 

 - validated: 校验是否通过

 - validations: 校验规则

 - defaultTextInputProps: 

 - defaultNumberInputProps: 

 - defaultDatePickerProps: 

 - defaultCurrencyInputProps: 

 - defaultPercentageInputProps: 

 - defaultDateRangePickerProps: 

 - defaultDateTimePickerProps: 

 - defaultSelectProps: 

 - defaultMultiSelectProps: 

 - defaultTreeSelectProps: 

 - defaultRadioGroupProps: 

 - defaultCheckBoxGroupProps: 

 - defaultWangEditorProps: 

 - defaultTextAreaProps: 

 - defaultUploaderProps: 

 - onDataChanged: 

 - onElementFocus: 

 - onElementBlur: 

 - template: 自定义模板



#### 公共方法

 - reset(): 清空表单值

 - getFormData(): 获取表单值

 - setFormData(data: any, notReset?: boolean): 设置表单值以及是否先清空在赋值

 - getControls(): 返回当前表单所有已定义的表单控件

 - getInstanceOf(name: string): 返回对应名称的表单控件

 - getControl(name: string): 返回对应名称的表单控件

 - getInput(name: string): 返回对应名称的表单控件



- 实例代码:

```

private getEditFormProps() {

​    this.editForm = new Form();

​    let formProps = this.editForm.getProps();



​    formProps.inputs = [{

​      name: 'accountName',

​      label: '账户名',

​      type: Form.InputType.TEXT_INPUT

​    }, {

​      name: 'password',

​      label: '密码',

​      type: Form.InputType.TEXT_INPUT,

​      props: {

​        attr: {

​          type: TextInput.TYPE.PASSWORD

​        }

​      }

​    }, {

​      name: 'userName',

​      label: '用户名',

​      type: Form.InputType.TEXT_INPUT

​    }, {

​      name: 'idCard',

​      label: '身份证',

​      type: Form.InputType.TEXT_INPUT

​    }, {

​      name: 'gender',

​      label: '性别',

​       type: Form.InputType.RADIO,

​       onReady: (self) => {

​          self.setRadios([{

​            text: '男',

​            value: '1',

​          }, {

​            text: '女',

​            value: '0',

​          }], 'gender');

​        },

​      }, {

​      name: 'telephone',

​      label: '联系方式',

​      type: Form.InputType.TEXT_INPUT

​    }, {

​      name: 'address',

​      label: '地址',

​      type: Form.InputType.TEXT_INPUT

​    }, {

​      name: 'email',

​      label: 'E-mail',

​      type: Form.InputType.TEXT_INPUT

​    }, {

​      name: 'avata',

​      label: '头像',

​      type: Form.InputType.TEXT_INPUT

​    }, {

​      name: 'userType',

​      label: '用户类型',

​      type: Form.InputType.SELECT,

​      onReady: (base) => {

​        let queryAction = action.queryDictAction();

​        queryAction('USER_TYPE', (result) => {

​          let dicts: Array<any> = [{

​            'text': '---',

​            'value': '-1'

​          }];

​          for (let o of result) {

​            let s = {

​              'text': o.name,

​              'value': o.code

​            };



​            dicts.push(s);

​            base.setOptions(dicts);

​          }

​        });

​      }

​    }, {

​      name: 'isEnabled',

​      label: '状态',

​      type: Form.InputType.SELECT,

​      onReady: (base) => {

​        base.setOptions([{

​          'text': '---',

​          'value': '-1'

​        }, {

​          'text': '启用',

​          'value': '1'

​        }, {

​          'text': '禁用',

​          'value': '0'

​        }]);

​      }

​    }, {

​      name: 'orgNames',

​      label: '所属机构选择',

​      type: Form.InputType.TEXT_INPUT,

​      props: {

​        onFocus: () => {

​          dispatch(action.selectOrgTreeAction());

​        }

​      }

​    }];

​    return formProps;

  }

```

 